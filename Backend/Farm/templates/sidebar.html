{% load static %}

<!-- Navbar -->
<nav class="navbar">
    <div class="nav-left">
        <div class="menu-toggle">
            <span class="material-symbols-sharp">menu</span>
        </div>
        <div class="search-bar">
            <span class="material-symbols-sharp">search</span>
            <input type="text" placeholder="Search...">
        </div>
    </div>
    <div class="nav-right">
        <div class="nav-item">
            <span class="material-symbols-sharp">notifications</span>
            <span class="notification-badge">3</span>
        </div>
        <div class="nav-item">
            <span class="material-symbols-sharp">mail</span>
            <span class="message-badge">5</span>
        </div>
        <div class="profile-dropdown">
            <img src="{% static 'images/default-profile.png' %}" alt="Profile" class="profile-img">
            <div class="dropdown-content">
                <a href="#"><span class="material-symbols-sharp">person</span>Profile</a>
                <a href="#"><span class="material-symbols-sharp">settings</span>Settings</a>
                <a href="#" onclick="document.getElementById('logout-form').submit();">
                    <span class="material-symbols-sharp">logout</span>Logout
                </a>
            </div>
        </div>
    </div>
</nav>

<!-- Sidebar -->
<aside>
    <div class="top">
        <div class="logo">
            <a href="{% url 'dashboard:dashboard_index' %}">
                <h2><span class="danger">FarmX</span></h2>
            </a>
        </div>
        <div class="close">
            <span class="material-symbols-sharp">close</span>
        </div>
    </div>
    <div class="sidebar">
        <a href="{% url 'dashboard:dashboard_index' %}" class="{% if request.resolver_match.namespace == 'dashboard' and request.resolver_match.url_name == 'dashboard_index' %}active{% endif %}">
            <span class="material-symbols-sharp">dashboard</span>
            <h3>Dashboard</h3>
        </a>
        <a href="{% url 'resources:resource_estimation' %}" class="{% if request.resolver_match.namespace == 'resources' and request.resolver_match.url_name == 'resource_estimation' %}active{% endif %}">
            <span class="material-symbols-sharp">analytics</span>
            <h3>Resource Estimation</h3>
        </a>
        
        <a href="{% url 'weather_forecast' %}" class="{% if request.resolver_match.url_name == 'weather_forecast' %}active{% endif %}">
            <span class="material-symbols-sharp">cloud</span>
            <h3>Weather Forecast</h3>
        </a>
        
        <a href="{% url 'inventory_report' %}" class="{% if request.resolver_match.url_name == 'inventory_report' or request.resolver_match.url_name == 'add_product' %}active{% endif %}">
            <span class="material-symbols-sharp">inventory</span>
            <h3>Inventory Management</h3>
        </a>
        <a href="{% url 'crop_analysis' %}" class="{% if request.resolver_match.url_name == 'crop_analysis' %}active{% endif %}">
            <span class="material-symbols-sharp">search_insights</span>
            <h3>Market Insights</h3>
        </a>
        <a href="{% url 'product_list' %}" class="{% if request.resolver_match.url_name == 'product_list' %}active{% endif %}">
            <span class="material-symbols-sharp">store</span>
            <h3>Marketplace</h3>
        </a>
        

        <a href="{% url 'home' %}" class="{% if request.resolver_match.url_name == 'home' %}active{% endif %}">
            <span class="material-symbols-sharp">inventory_2</span>
            <h3>Crop Disease Detection</h3>
        </a>
        
        <!-- New "Talk to Data" Section -->
        <a href="{% url 'gemini' %}" class="{% if request.resolver_match.url_name == 'gemini' %}active{% endif %}">
            <span class="material-symbols-sharp">chat</span>
            <h3>Talk to Data</h3>
        </a>
        
        
        <a href="#" onclick="document.getElementById('logout-form').submit();">
            <span class="material-symbols-sharp">logout</span>
            <h3>Logout</h3>
        </a>
        <form id="logout-form" action="{% url 'logout' %}" method="post" style="display: none;">
            {% csrf_token %}
        </form>
    </div>
</aside>
